var Base=function(){if(arguments.length){if(this==window){Base.prototype.extend.call(arguments[0],arguments.callee.prototype)}else{this.extend(arguments[0])}}};Base.version="1.0.2";Base.prototype={extend:function(a,b){var c=Base.prototype.extend;if(arguments.length==2){var d=this[a];if(d instanceof Function&&b instanceof Function&&d.valueOf()!=b.valueOf()&&/\bbase\b/.test(b)){var e=b;b=function(){var a=this.base;this.base=d;var b=e.apply(this,arguments);this.base=a;return b};b.valueOf=function(){return e};b.toString=function(){return String(e)}}return this[a]=b}else if(a){var f={toSource:null};var g=["toString","valueOf"];if(Base._prototyping)g[2]="constructor";for(var h=0;i=g[h];h++){if(a[i]!=f[i]){c.call(this,i,a[i])}}for(var i in a){if(!f[i]){c.call(this,i,a[i])}}}return this},base:function(){}};Base.extend=function(a,b){var c=Base.prototype.extend;if(!a)a={};Base._prototyping=true;var d=new this;c.call(d,a);var e=d.constructor;d.constructor=this;delete Base._prototyping;var f=function(){if(!Base._prototyping)e.apply(this,arguments);this.constructor=f};f.prototype=d;f.extend=this.extend;f.implement=this.implement;f.toString=function(){return String(e)};c.call(f,b);var g=e?f:d;if(g.init instanceof Function)g.init();return g};Base.implement=function(a){if(a instanceof Function)a=a.prototype;this.prototype.extend(a)};
