function BaloonManagerClass(){}var ballon_effect={"#baloon":function(a){a.AssociatedElement="",a.getAssociatedElement=function(){return this.AssociatedElement},a.setAssociatedElement=function(a){this.AssociatedElement=a}},".balloon":function(a){a.isBalloonable=true,a.hasBalloon=function(){var a=document.getElementById("baloon");if(!a){var a=document.createElement("div");a.setAttribute("id","baloon");a.setAssociatedElement=function(a){this.AssociatedElement=a};a.getAssociatedElement=function(){return this.AssociatedElement};a.setAssociatedElement("");document.body.appendChild(a)}return a.getAssociatedElement()==this.id},a.hideBalloon=function(){BaloonManager.hideBaloon()},a.showBalloon=function(a){if(!document.getElementById)return;var b=this.getAttribute("id");if(this.hasBalloon()){var c=document.getElementById("baloon");c.style.visibility="visible";return false}var d=this.findPosX();var e=this.findPosY();var c=document.getElementById("baloon");c.setAssociatedElement(b);if(c){this.removePrevBalloon(c);var f=document.createElement("div");f.setAttribute("class","header");var g=document.createElement("div");g.setAttribute("class","body");var h=document.createElement("div");h.setAttribute("class","closeButton");self=this;h.onclick=function(){BaloonManager.hideBaloon()};var i=document.createElement("p");i.innerHTML=a;g.appendChild(h);g.appendChild(i);var j=document.createElement("div");j.setAttribute("class","footer");c.appendChild(f);c.appendChild(g);c.appendChild(j);c.style.visibility="visible";c.style.position="absolute";c.style.top=e-c.offsetHeight+2+"px";c.style.left=d-(190-this.offsetWidth)+2+"px"}return false},a.findPosX=function(){obj=this;var a=0;if(obj.offsetParent){while(obj.offsetParent){a+=obj.offsetLeft;obj=obj.offsetParent}if(obj!=null)a+=obj.offsetLeft}else if(obj.x)a+=obj.x;return a},a.findPosY=function(){var a=0;obj=this;if(obj.offsetParent){while(obj.offsetParent){a+=obj.offsetTop;obj=obj.offsetParent}if(obj!=null)a+=obj.offsetTop}else if(obj.y)a+=obj.y;return a},a.removePrevBalloon=function(a){if(a.childNodes){while(a.childNodes.length>0){a.removeChild(a.childNodes[0])}}},a.hideBalloon()}};BaloonManagerClass.prototype={hideBaloon:function(){var a=document.getElementById("baloon");if(a)a.style.visibility="hidden"}};var BaloonManager=new BaloonManagerClass;Behaviour.register(ballon_effect);
